<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
  <meta charset="utf-8"/>
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
  />
  <title>Item Preview Layout - add Rubric Demo</title>
  <script nomodule src="/build/pie-player-components.js"></script>
<!--  <script type="module" src="/build/pie-player-components.esm.js"></script>-->

    <script
      type="module"
      src="https://unpkg.com/@pie-framework/pie-player-components@latest/dist/pie-player-components/pie-player-components.esm.js"
    ></script>
</head>
<body>
<pie-author id="author" add-preview="true"></pie-author>

<script>
  const author = document.getElementById('author');

  author.configSettings = {
    '@pie-element/drawing-response': {
      prompt: { settings: true, label: 'Prompt', enabled: true },
      withRubric: {
        settings: true,
        label: 'Add Rubric..',
        // !!! IF you want to force having a complex-rubric (without having the Toggle in Settings Panel), then you can uncomment the line below
        forceEnabled: true         // BE AWARE that this property ONLY works for drawing-response and extended-text-entry
      }
    },
    // THIS IS HOW You can customize complex-rubric's Settings Panel
    '@pie-element/complex-rubric': {
      multiTraitRubric: {
        showHalfScoring: {
          settings: true,
          label: 'UPDATED LABEL'
        }
      }
    }
  }
  author.config = {
    "id": "1",
    "elements": {
      "drawing-response": "@pie-element/drawing-response",
    },
    "models": [
      {
        id: '1',
        element: 'pie-drawing-response',
        prompt: 'Which of these northern European countries are EU members?',
      }
    ],
    "markup": "<drawing-response id=\"1\"></drawing-response>",
    // THIS IS HOW YOU CAN set defaults for complex-rubric models:
    defaultExtraModels: {
      'complex-rubric': {
        id: "p-c-rubric",
        element: "pp-pie-element-complex-rubric",
        rubrics: {
          simpleRubric: {},
          multiTraitRubric: {
            visibleToStudent: true,
            halfScoring: true,
            pointLabels: true,
            description: false,
            standards: false,
            scales: [
              {
                excludeZero: false,
                maxPoints: 1,
                scorePointsLabels: [
                  "<div>b</div>",
                  "<div>a</div>"
                ],
                traitLabel: "",
                traits: [
                  {
                    name: "<div>s</div>",
                    description: "",
                    standards: [],
                    scorePointsDescriptors: [
                      "<div>sa</div>",
                      "<div>sc</div>"
                    ]
                  }
                ]
              }
            ],
            excludeZero: false,
            maxPointsEnabled: true,
            addScaleEnabled: true
          },
        },
        rubricType: "multiTraitRubric"
      }
    }
  }</script>
</body>
</html>
