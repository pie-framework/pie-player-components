<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
    />
    <title>Stencil Component Starter</title>
    <script nomodule src="/build/pie-player-components.js"></script>
    <script type="module" src="/build/pie-player-components.esm.js"></script>
  </head>
  <body>
    <pie-player id="player"></pie-player>

    <script>
      const config = {
        elements: {
          "pie-element-explicit-constructed-response": "@pie-element/explicit-constructed-response@latest"
        },
        markup:
          '<pie-element-explicit-constructed-response id="1"></pie-element-explicit-constructed-response>',
        models: [
          {
            id: "1",
            element: "pie-element-explicit-constructed-response",
            markup: "<p>The {{0}} jumped {{1}} the {{2}}</p>",
            disabled: false,
            choices: {
              "0": [
                {
                  label: "cow",
                  value: "0"
                },
                {
                  label: "cattle",
                  value: "1"
                },
                {
                  label: "calf",
                  value: "2"
                }
              ],
              "1": [
                {
                  label: "over",
                  value: "0"
                },
                {
                  label: "past",
                  value: "1"
                },
                {
                  label: "beyond",
                  value: "2"
                }
              ],
              "2": [
                {
                  label: "moon",
                  value: "0"
                }
              ]
            },
            prompt: "Use the dropdowns to complete the sentence",
            promptEnabled: true
          }
        ]
      };

      // const config = {
      //   id: "1",
      //   elements: {
      //     "pie-multiple-choice": "@pie-element/multiple-choice@latest"
      //   },
      //   models: [
      //     {
      //       id: "1",
      //       element: "pie-multiple-choice",
      //       prompt:
      //         "Which of these northern European countries are EU members?",
      //       choiceMode: "checkbox",
      //       keyMode: "numbers",
      //       choices: [
      //         {
      //           correct: true,
      //           value: "sweden",
      //           label: "Sweden",
      //           feedback: {
      //             type: "none",
      //             value: ""
      //           }
      //         },
      //         {
      //           value: "iceland",
      //           label: "Iceland",
      //           feedback: {
      //             type: "none",
      //             value: ""
      //           }
      //         },
      //         {
      //           value: "norway",
      //           label: "Norway",
      //           feedback: {
      //             type: "none",
      //             value: ""
      //           }
      //         },
      //         {
      //           correct: true,
      //           value: "finland",
      //           label: "Finland",
      //           feedback: {
      //             type: "none",
      //             value: ""
      //           }
      //         }
      //       ],
      //       partialScoring: false,
      //       partialScoringLabel: `Each correct response that is correctly checked and each incorrect response
      //       that is correctly unchecked will be worth 1 point.
      //       The maximum points is the total number of answer choices.`
      //     }
      //   ],
      //   markup: `
      //     <pie-multiple-choice id='1'></pie-multiple-choice>
      //   `
      // };

      const player = document.getElementById("player");

      document.addEventListener("session-changed", e => {
        console.log(e);
      });

      player.addEventListener("sessionChanged", event => {
        console.log(event.type + ":" + JSON.stringify(event.detail));
      });

      player.config = config;
    </script>
  </body>
</html>
